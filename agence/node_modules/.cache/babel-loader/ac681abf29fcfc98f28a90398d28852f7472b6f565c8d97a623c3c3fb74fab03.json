{"ast":null,"code":"var _jsxFileName = \"/home/samuel/Documents/partage/fpem/test/agence/src/components/Famille.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { Button } from \"primereact/button\";\nimport { Column } from \"primereact/column\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Dialog } from \"primereact/dialog\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL } from \"../constants/constants\";\nimport { Layout } from \"./Layout\";\nimport { classNames } from 'primereact/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Famille = () => {\n  _s();\n  const [famille, setFamille] = useState([]);\n  const [visibilityEdit, setVisibilityEdit] = useState(false);\n  const [visibilityDelete, setVisibilityDelete] = useState(false);\n  const [visibilityAdd, setVisibilityAdd] = useState(false);\n  let emptyFamille = {\n    id: null,\n    firstname: '',\n    lastname: '',\n    contact: null,\n    address: 0\n  };\n  useEffect(() => {\n    if (localStorage.getItem('access_token') === null) {\n      window.location.href = '/login';\n    } else {\n      (async () => {\n        try {\n          const token = localStorage.getItem('access_token');\n          const {\n            data\n          } = await axios.get(API_URL + 'famille/', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setFamille(data);\n        } catch (e) {\n          console.log('not auth' + e);\n        }\n      })();\n    }\n    ;\n  }, []);\n  const editFamille = famille => {\n    setFamille({\n      ...famille\n    });\n    setVisibilityEdit(true);\n  };\n  const confirmDeleteFamille = famille => {\n    setFamille(famille);\n    setVisibilityDelete(true);\n  };\n  const actionBodyTemplate = rowData => {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-pencil\",\n        rounded: true,\n        outlined: true,\n        className: \"mr-2\",\n        onClick: () => editFamille(rowData)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        icon: \"pi pi-trash\",\n        rounded: true,\n        outlined: true,\n        severity: \"danger\",\n        onClick: () => confirmDeleteFamille(rowData)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this);\n  };\n  const footerContent = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"No\",\n      icon: \"pi pi-times\",\n      onClick: () => setVisibilityAdd(false),\n      className: \"p-button-text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      label: \"Yes\",\n      icon: \"pi pi-check\",\n      onClick: () => setVisibilityAdd(false),\n      autoFocus: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n  const openNew = () => {\n    setFamille(emptyFamille);\n    setVisibilityAdd(true);\n  };\n  const hideAdd = () => {\n    setVisibilityAdd(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"head\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        label: \"Nouveau famille\",\n        icon: \"pi pi-plus\",\n        onClick: openNew\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DataTable, {\n      value: famille,\n      tableStyle: {\n        minWidth: '50rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Column, {\n        field: \"firstname\",\n        header: \"Nom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"lastname\",\n        header: \"Famille\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"contact\",\n        header: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        field: \"address\",\n        header: \"Adresse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Column, {\n        body: actionBodyTemplate,\n        exportable: false,\n        style: {\n          minWidth: '12rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      header: \"Nouveau famille\",\n      visible: visibilityAdd,\n      style: {\n        width: '50vw'\n      },\n      onHide: hideAdd,\n      footer: footerContent,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"m-0\",\n        children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(Famille, \"IL58z6MCFVrdIIhzEaHCa8Cp3jk=\");\n_c = Famille;\nvar _c;\n$RefreshReg$(_c, \"Famille\");","map":{"version":3,"names":["axios","Button","Column","DataTable","Dialog","React","useEffect","useState","API_URL","Layout","classNames","jsxDEV","_jsxDEV","Famille","_s","famille","setFamille","visibilityEdit","setVisibilityEdit","visibilityDelete","setVisibilityDelete","visibilityAdd","setVisibilityAdd","emptyFamille","id","firstname","lastname","contact","address","localStorage","getItem","window","location","href","token","data","get","headers","Authorization","e","console","log","editFamille","confirmDeleteFamille","actionBodyTemplate","rowData","Fragment","children","icon","rounded","outlined","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","severity","footerContent","label","autoFocus","openNew","hideAdd","value","tableStyle","minWidth","field","header","body","exportable","style","visible","width","onHide","footer","_c","$RefreshReg$"],"sources":["/home/samuel/Documents/partage/fpem/test/agence/src/components/Famille.js"],"sourcesContent":["import axios from \"axios\";\nimport { Button } from \"primereact/button\";\nimport { Column } from \"primereact/column\";\nimport { DataTable } from \"primereact/datatable\";\nimport { Dialog } from \"primereact/dialog\";\nimport React, { useEffect, useState } from \"react\";\nimport { API_URL } from \"../constants/constants\";\nimport { Layout } from \"./Layout\";\nimport { classNames } from 'primereact/utils';\n\n\nexport const Famille = () => {\n\n    const [famille, setFamille] = useState([]);\n    const [visibilityEdit, setVisibilityEdit] = useState(false);\n    const [visibilityDelete, setVisibilityDelete] = useState(false);\n    const [visibilityAdd, setVisibilityAdd] = useState(false);\n\n    let emptyFamille = {\n        id: null,\n        firstname: '',\n        lastname: '',\n        contact: null,\n        address: 0,\n    };\n\n    useEffect(() => {\n        if(localStorage.getItem('access_token') === null){                   \n            window.location.href = '/login'\n        }\n        else{\n         (async () => {\n           try {\n            const token = localStorage.getItem('access_token')\n             const {data} = await axios.get(   \n                            API_URL + 'famille/', {\n                            headers: {\n                                Authorization: `Bearer ${token}`\n                                }}\n                           );\n             setFamille(data);\n          } catch (e) {\n            console.log('not auth'+ e)\n          }\n         })()};\n    }, []);\n    \n    const editFamille = (famille) => {\n        setFamille({ ...famille });\n        setVisibilityEdit(true);\n    };\n\n    const confirmDeleteFamille = (famille) => {\n        setFamille(famille);\n        setVisibilityDelete(true);\n    };\n    const actionBodyTemplate = (rowData) => {\n        return (\n            <React.Fragment>\n                <Button icon=\"pi pi-pencil\" rounded outlined className=\"mr-2\" onClick={() => editFamille(rowData)} />\n                <Button icon=\"pi pi-trash\" rounded outlined severity=\"danger\" onClick={() => confirmDeleteFamille(rowData)} />\n            </React.Fragment>\n        );\n    };\n\n    const footerContent = () => (\n        <div>\n            <Button label=\"No\" icon=\"pi pi-times\" onClick={() => setVisibilityAdd(false)} className=\"p-button-text\" />\n            <Button label=\"Yes\" icon=\"pi pi-check\" onClick={() => setVisibilityAdd(false)} autoFocus />\n        </div>\n    );\n\n    const openNew = () => {\n        setFamille(emptyFamille);\n        setVisibilityAdd(true);\n    };\n\n    const hideAdd = () => {\n        setVisibilityAdd(false);\n    }\n    return (\n        <Layout>\n            \n            <div className=\"head\">\n                <Button label=\"Nouveau famille\" icon=\"pi pi-plus\" onClick={openNew}/>\n            </div>\n            <DataTable value={famille} tableStyle={{ minWidth: '50rem' }}>\n                <Column field=\"firstname\" header=\"Nom\"></Column>\n                <Column field=\"lastname\" header=\"Famille\"></Column>\n                <Column field=\"contact\" header=\"Contact\"></Column>\n                <Column field=\"address\" header=\"Adresse\"></Column>\n                <Column body={actionBodyTemplate} exportable={false} style={{ minWidth: '12rem' }}></Column>\n\n            </DataTable>\n\n            <Dialog header=\"Nouveau famille\" visible={visibilityAdd} style={{ width: '50vw' }} onHide={hideAdd} footer={footerContent}>\n                <p className=\"m-0\">\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \n                    Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo\n                    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. \n                    Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n                </p>\n            </Dialog>\n           \n        </Layout>\n      );\n  }\n  \n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}